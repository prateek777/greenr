
<!DOCTYPE HTML>
<html>
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.3/css/bootstrap.min.css" integrity="sha384-Zug+QiDoJOrZ5t4lssLdxGhVrurbmBWopoEl+M6BdEfwnCJZtKxi1KgxUyJq13dy" crossorigin="anonymous">

        <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.3/js/bootstrap.min.js" integrity="sha384-a5N7Y/aK3qNeh15eJKGWxsqtnX/wWdSZSKp+81YjTmS15nvnvxKHuzaWwXHDli+4" crossorigin="anonymous"></script>
        <link rel="stylesheet" href="main.css"/>
        <script
      src="http://code.jquery.com/jquery-3.3.1.min.js"
      integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
      crossorigin="anonymous">
    </script>

        

    </head>

    <body>
      <div class="plain-background">

        <div class="navbar fixed-top plain-background navbar-light p-0" role="navigation">
          <div class="display-inline-block  pl-3"> 
            <button class="btn pull-left top-menu" data-toggle="toggle" data-target="#menu">
              <!-- <div src="static/svg/menu.svg" /> -->
            </button>
          </div>

          <div class="main-logo-center">
            <img class="main-logo-green" src="static/img/greenr-logo-green.svg"/>
          </div>

          <div class="pull-right navbar-side-padding">
            <div class="social-icon-container">
              <a href="https://www.instagram.com/begreenr/" target="_blank">
                <button class="instagram top-instagram top-instagram-green">
                <!-- <div src="static/svg/menu.svg" /> -->
                </button>
              </a>
            </div>

            <div class="social-icon-container">
              <a href="https://www.facebook.com/begreenr/" target="_blank">
                <button class="facebook top-facebook top-facebook-green">
                <!-- <div src="static/svg/menu.svg" /> -->
                </button>
              </a>
            </div>
          </div>

          <div class="center-header">
            EVENTS
          </div>
          
        </div>

      </div>

      <!-- Menu -->
      <div id="menu" class="">
          <div class="menu-container">
            <div class="menu-header-container">
              <div class="close-button-container">
                <button class="menu-close-button" data-toggle="toggle" data-target="#menu">
                </button>
              </div>
                
            </div>
            
            <div class="menu-items">
              <div class="menu-item-container"><a class="menu-item" href="home.html">HOME</a></div>
              <div class="menu-item-container"><a class="menu-item" href="plantmeat.html">PLANTMEAT</a></div>
              <div class="menu-item-container"><a class="menu-item" href="cafe.html">CAFE</a></div>
              <div class="menu-item-container"><a class="menu-item" href="events.html">EVENTS</a></div>
              <div class="menu-item-container"><a class="menu-item" href="retail.html">RETAIL</a></div>
              <div class="menu-item-container"><a class="menu-item" href="team.html">TEAM</a></div>
            </div>

            <div class="menu-address-container mobile-hidden">
                <div class='menu-cafe-address'>
                  <div>
                    416, Gora Street
                    <br>
                    Shahpur Jat
                    <br>
                    Siri Fort, New Delhi
                    <br>
                    110049
                  </div>
                  <div class='phone-number'>
                    +917043575339
                  </div>
                  <div class="maps-locations">
                    Open in Google Maps
                  </div>
                </div>
                
                <div class='menu-co-address'>
                  <div>
                    416, Gora Street
                    <br>
                    Shahpur Jat
                    <br>
                    Siri Fort, New Delhi
                    <br>
                    110049
                  </div>
                  <div class='phone-number'>
                    +917043575339
                  </div>
                  <div class="maps-locations">
                    Open in Google Maps
                  </div>
                </div>
            </div>
          </div>
      </div>

      <!-- <div class="description-plain-container top-level-menu-margin">
        <div class="description-plain">
          We are working with some extraordinary minds to showcase some amazing products. More on this Soon!
        </div>
      </div>
 -->
      <div class="events top-level-menu-margin" style="min-height: 53vh;">
        <div id="valid-event">
          <div style="text-align: center">
            <img class="event-image" id="event-image">
          <div class="center-header event-header" id="event-header">
            
            <button class="arrow-left">

            </button>

            <div class="event-details-container">
              <div class="event-name" id="event-name">
              </div>
              <div class="event-timings" id="event-timings">
              </div>
            </div>

            <button class="arrow-right">
            </button>
          </div>
          <div class="invite-description-container">
              <div class="event-description" id="event-description">
                
              </div>
              <div class="more-about-btn-container">
                <a id="event-link" target="_blank">
                    <button class="more-about-btn">
                      Attend this event
                    </button>
                </a>
              </div>
        </div>
    </div>
    <div id="invalid-event">
      <div class="invite-description-container">
          <div class="event-description" id="noevent-description">
          </div>
          <div class="more-about-btn-container">
            <a id="event-link">
                <button class="more-about-btn">
                  Greenr on Facebook
                </button>
            </a>
          </div>
      </div>
    </div>        
      </div>

      <div class="footer-container">
        <div class="footer">
          <div class="footer-brand">
              <div class="footer-logo"></div>
          </div>

          <div class="footer-contact-details">
            <div class="footer-contact-heading">Cafe & Kitchen | Co - Space</div>
            <div class="footer-address-container">
              <div class='footer-cafe-address'>
                <div>
                  416, Gora Street
                  <br>
                  Shahpur Jat
                  <br>
                  Siri Fort, New Delhi
                  <br>
                  110049
                </div>
                <div class='phone-number'>
                  +917043575339
                </div>
                <div class="maps-locations">
                  Open in Google Maps
                </div>
              </div>
              <div class="footer-contact-heading desktop-hidden">Cafe & Kitchen | Co - Space</div>
              <div class='footer-co-address'>
                <div>
                  416, Gora Street
                  <br>
                  Shahpur Jat
                  <br>
                  Siri Fort, New Delhi
                  <br>
                  110049
                </div>
                <div class='phone-number'>
                  +917043575339
                </div>
                <div class="maps-locations">
                  Open in Google Maps
                </div>
              </div>
            </div>
          </div>
        </div>  
      </div>
    </body>

    <script>
      var event_number = 0
      var events = []
      var options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric', hour: 'numeric' };
      $(".arrow-right")[0].onclick = null;
      
      $(".arrow-left")[0].onclick = null;

      $('#valid-event').css('display', 'none');
      $('#invalid-event').css('display', 'none');
      function formatDate() {
        var monthNames = [
          "January", "February", "March",
          "April", "May", "June", "July",
          "August", "September", "October",
          "November", "December"
        ];
        date = new Date(); 
        var day = date.getDate();
        var monthIndex = date.getMonth();
        var year = date.getFullYear();
        var dateStr = year + '-' + (monthIndex+1) + '-' + day;
        console.log(dateStr)
        return '2018-2-10';
      }

      $("[data-toggle='toggle']").click(function() {
          var selector = $(this).data("target");
          $(selector).toggleClass('in');
      });
      function populateEvent(data) {
        if(data.cover) {
          // $('#event-image').css('background', 'url('+ data.cover.source + ') center/150px no-repeat');
          // $('#event-image').css('background-size', '400px 400px');
          $("#event-image").attr("src", data.cover.source);
          $('#event-image').addClass('event-image');  
        }
        if(data.name) {
          $('#event-name').html(data.name)
        }
        if(data.start_time) {
          $('#event-timings').html((new Date(data.start_time)).toLocaleDateString("en-US",options) + (' | ' + data.place.name || '') + (data.place.location && (', ' + data.place.location.city || '')))
        }
        if(data.description) {
          $('#event-description').html(data.description)
        }
        if(data.id) {
          $('#event-link').attr("href", 'https://www.facebook.com/events/' + data.id)
        }
      }

      $("#event-image").css("position", "relative");
      window.fbAsyncInit = function() {
        FB.init({
          appId            : '1912273135754917',
          autoLogAppEvents : true,
          xfbml            : true,
          version          : 'v2.12'
        });

      
        
        FB.api(
          '/502271293254118/events',
          'GET',
          {
            "fields":"timezone,cover,id,end_time,name,place,type,start_time,owner,event_times,description",
            "access_token": "1912273135754917|2OawwizLXmwFdnkRAUmxjgb956U",
            // "since": formatDate(),
          },
          function(response) {
            console.log(response);

            if (response.data && response.data.length) {
              $('#invalid-event').css('display', 'none');
              $('#valid-event').css('display', 'inherit');
              events = response.data
              populateEvent(response.data[0])
            } else {
              $('#valid-event').css('display', 'none');
              $('#invalid-event').css('display', 'inherit');
              $('#noevent-description').html("Sorry We don't have any events right for now, but keep checking this space and our facebook page for more.");
              $('#event-link').attr("href", 'https://www.facebook.com/502271293254118/')
            }
        });
      };

      $(".arrow-left").click(function() {
        if (event_number > 0 && events.length) {
          event_number -= 1
          populateEvent(events[event_number])
        }
      });
      $(".arrow-right").click(function() {
        if (events.length && event_number < (events.length -1)) {
          event_number += 1
          populateEvent(events[event_number])
        }
      });

      (function(d, s, id){
       var js, fjs = d.getElementsByTagName(s)[0];
       if (d.getElementById(id)) {return;}
       js = d.createElement(s); js.id = id;
       console.log('jhi');
       js.src = "https://connect.facebook.net/en_US/sdk.js";
       fjs.parentNode.insertBefore(js, fjs);
      }(document, 'script', 'facebook-jssdk'));
  </script>
</html>